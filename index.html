<!DOCTYPE html>

<head>
    <html lang="pt-BR">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>RPG PI FLASH</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon1.ico">
    <link rel="stylesheet" href="css/style.css" />
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="js/script.js" defer></script>
</head>

<body>
    <header class="topbar">
        <h1>Ficha de Personagem â€” RPG PI FLASH</h1>
        <div class="topbar-actions">
            <label class="toggle">
                <input type="checkbox" id="toggleDark" />
                <span>ðŸŒ™ Dark</span>
            </label>
            <button id="btnReset" class="btn ghost" title="Resetar ficha">Resetar</button>
            <div class="dropdown">
                <button id="btnExport" class="btn">Exportar â–¼</button>
                <div class="dropdown-content">
                    <button id="exportJson" class="btn small">Exportar JSON</button>
                    <button id="exportHtml" class="btn small">Exportar HTML</button>
                    <button id="exportPdf" class="btn small">Exportar PDF</button>
                    <label for="importJson" class="btn small">Importar JSON</label>
                    <input type="file" id="importJson" accept=".json" style="display:none;">
                </div>
            </div>


    </header>

    <!-- InformaÃ§Ãµes do Personagem -->
    <section class="ficha" id="basicos">
        <h2>InformaÃ§Ãµes do Personagem</h2>
        <div class="conteudo">
            <div><label for="nome">Nome:</label>
                <input type="text" id="nome" placeholder="Digite o nome">
            </div>
            <div><label for="idade">Idade:</label>
                <input type="number" id="idade" min="0" value="0">
            </div>
            <div><label for="sexo">Sexo:</label>
                <input type="text" id="sexo" placeholder="M/F/?">
            </div>
            <div><label for="tamanho">Tamanho:</label>
                <input type="text" id="tamanho" placeholder="Pequeno / MÃ©dio / Grande">
            </div>
            <div><label for="raca">RaÃ§a:</label>
                <input type="text" id="raca" placeholder="Ex: Humano, Elfo">
            </div>
            <div><label for="cor">Cor:</label>
                <input type="text" id="cor" placeholder="DescriÃ§Ã£o de cor/pele">
            </div>
            <div> <label for="nivel">NÃ­vel:</label>
                <input type="number" id="nivel" min="1" value="1">
            </div>

        </div>

    </section>


    <!-- Recursos Vitais (base + extras manuais) -->
    <section class="recursos-vitais">
        <h2>Recursos Vitais</h2>
        <!-- CabeÃ§a -->
        <div class="recurso" data-parte="6">
            <div class="titulo">CabeÃ§a</div>
            <div class="linha-valor">
                <div class="valor vida" id="vida-6">-</div>
                <input type="number" min="0" class="extra-input" id="vidaExtra-6" placeholder="+PV" step="0.5">
            </div>
            <div class="linha-valor">
                <div class="valor armadura" id="arm-6">-</div>
                <input type="number" min="0" class="extra-input" id="armExtra-6" placeholder="+AR" step="0.5">
            </div>
        </div>

        <!-- Tronco -->
        <div class="recurso" data-parte="5">
            <div class="titulo">Tronco</div>
            <div class="linha-valor">
                <div class="valor vida" id="vida-5">-</div>
                <input type="number" min="0" class="extra-input" id="vidaExtra-5" placeholder="+PV" step="0.5">
            </div>
            <div class="linha-valor">
                <div class="valor armadura" id="arm-5">-</div>
                <input type="number" min="0" class="extra-input" id="armExtra-5" placeholder="+AR" step="0.5">
            </div>
        </div>

        <!-- Perna 1 -->
        <div class="recurso" data-parte="4">
            <div class="titulo">Perna 1</div>
            <div class="linha-valor">
                <div class="valor vida" id="vida-4">-</div>
                <input type="number" min="0" class="extra-input" id="vidaExtra-4" placeholder="+PV" step="0.5">
            </div>
            <div class="linha-valor">
                <div class="valor armadura" id="arm-4">-</div>
                <input type="number" min="0" class="extra-input" id="armExtra-4" placeholder="+AR" step="0.5">
            </div>
        </div>

        <!-- Perna 2 -->
        <div class="recurso" data-parte="3">
            <div class="titulo">Perna 2</div>
            <div class="linha-valor">
                <div class="valor vida" id="vida-3">-</div>
                <input type="number" min="0" class="extra-input" id="vidaExtra-3" placeholder="+PV" step="0.5">
            </div>
            <div class="linha-valor">
                <div class="valor armadura" id="arm-3">-</div>
                <input type="number" min="0" class="extra-input" id="armExtra-3" placeholder="+AR" step="0.5">
            </div>
        </div>

        <!-- BraÃ§o 1 -->
        <div class="recurso" data-parte="2">
            <div class="titulo">BraÃ§o 1</div>
            <div class="linha-valor">
                <div class="valor vida" id="vida-2">-</div>
                <input type="number" min="0" class="extra-input" id="vidaExtra-2" placeholder="+PV" step="0.5">
            </div>
            <div class="linha-valor">
                <div class="valor armadura" id="arm-2">-</div>
                <input type="number" min="0" class="extra-input" id="armExtra-2" placeholder="+AR" step="0.5">
            </div>
        </div>

        <!-- BraÃ§o 2 -->
        <div class="recurso" data-parte="1">
            <div class="titulo">BraÃ§o 2</div>
            <div class="linha-valor">
                <div class="valor vida" id="vida-1">-</div>
                <input type="number" min="0" class="extra-input" id="vidaExtra-1" placeholder="+PV" step="0.5">
            </div>
            <div class="linha-valor">
                <div class="valor armadura" id="arm-1">-</div>
                <input type="number" min="0" class="extra-input" id="armExtra-1" placeholder="+AR" step="0.5">
            </div>
        </div>

        <!-- Mana -->
        <div class="recurso">
            <div class="titulo">Mana</div>
            <div class="linha-valor">
                <div class="valor mana" id="manaTotal">-</div>
                <input type="number" min="0" class="extra-input" id="manaExtra" placeholder="+Mana">
            </div>
        </div>

        <!-- Pontos de AÃ§Ã£o -->
        <div class="recurso">
            <div class="titulo">Pontos de AÃ§Ã£o</div>
            <div class="linha-valor">
                <div class="valor pa" id="paTotal">-</div>
                <input type="number" min="0" class="extra-input" id="paExtra" placeholder="+PA">
            </div>
        </div>
    </section>

    <!-- Atributos -->
    <section class="ficha">
        <h2>Atributos</h2>
        <label for="corpo">Corpo:</label>
        <input type="number" id="corpo" value="0" min="0">
        <span id="corpoDado">Dado: -</span><br>

        <label for="mente">Mente:</label>
        <input type="number" id="mente" value="0" min="0">
        <span id="menteDado">Dado: -</span><br>

        <label for="espirito">EspÃ­rito:</label>
        <input type="number" id="espirito" value="0" min="0">
        <span id="espiritoDado">Dado: -</span><br>
    </section>

    <!-- EspecializaÃ§Ãµes -->
    <section class="ficha" id="especializacoes">
        <h2>EspecializaÃ§Ãµes</h2>
        <div class="conteudo">
            <div><label for="forca">ForÃ§a (COR):</label><input type="number" id="forca" value="0" min="0"></div>
            <div> <label for="agilidade">Agilidade (COR):</label><input type="number" id="agilidade" value="0" min="0">
            </div>
            <div> <label for="destreza">Destreza (COR):</label><input type="number" id="destreza" value="0" min="0">
            </div>
            <div> <label for="resistencias">ResistÃªncias (ESP):</label><input type="number" id="resistencias" value="0"
                    min="0">
            </div>
            <div> <label for="vitalidade">Vitalidade (ESP):</label><input type="number" id="vitalidade" value="0" min="0">
            </div>
            <div> <label for="sabedoria">Sabedoria (ESP):</label><input type="number" id="sabedoria" value="0" min="0">
            </div>
            <div> <label for="inteligencia">InteligÃªncia (MEN):</label><input type="number" id="inteligencia" value="0"
                    min="0">
            </div>
            <div> <label for="carisma">Carisma (MEN):</label><input type="number" id="carisma" value="0" min="0">
            </div>
            <div> <label for="percepcao">PercepÃ§Ã£o (MEN):</label><input type="number" id="percepcao" value="0" min="0">
            </div>
        </div>


    </section>

    <!-- Pontos de AÃ§Ã£o (texto) -->
    <section class="ficha">
        <h2>Pontos de AÃ§Ã£o</h2>
        <p>Total: <span id="pontosAcao">-</span></p>
    </section>

    <!-- Habilidades -->
    <section class="ficha">
        <h2>Habilidades</h2>
        <textarea id="habilidades" placeholder="Liste as habilidades..."></textarea>
    </section>

    <!-- Defeitos -->
    <section class="ficha">
        <h2>Defeitos</h2>
        <textarea id="defeitos" placeholder="Liste os defeitos..."></textarea>
    </section>

    <!-- Magias -->
    <section class="ficha">
        <h2>Magias Conhecidas</h2>
        <textarea id="magias" placeholder="Liste as magias conhecidas..."></textarea>
    </section>

    <!-- Equipamentos -->
    <section class="ficha">
        <h2>Equipamentos</h2>
        <textarea id="equipamentos" placeholder="Liste os equipamentos..."></textarea>
    </section>

    <!-- Conjuntos e Kits -->
    <section class="ficha">
        <h2>Conjuntos e Kits</h2>
        <textarea id="kits" placeholder="Liste os conjuntos e kits..."></textarea>
    </section>

    <!-- Barra Fixa de Status (exibe TOTAIS com +/- para dano/gasto) -->
    <footer class="barra-status">

        <div class="abas-barra">
            <button id="toggleBarra" class="aba">ðŸ“Š Status</button>
            <button id="toggleRegras" class="aba">ðŸ“– Regras</button>
        </div>

        <div class="conteudo-barra">
            <!-- Vida por parte -->
            <div class="status-area">
                <div class="status-box pv" data-type="pv" data-id="6">CabeÃ§a<br><span>-</span>
                    <div class="controls">
                        <button class="btn small minus" data-type="pv" data-id="6">âˆ’</button>
                        <button class="btn small plus" data-type="pv" data-id="6">+</button>
                    </div>
                </div>
                <div class="status-box pv" data-type="pv" data-id="5">Tronco<br><span>-</span>
                    <div class="controls">
                        <button class="btn small minus" data-type="pv" data-id="5">âˆ’</button>
                        <button class="btn small plus" data-type="pv" data-id="5">+</button>
                    </div>
                </div>
                <div class="status-box pv" data-type="pv" data-id="4">Perna 1<br><span>-</span>
                    <div class="controls">
                        <button class="btn small minus" data-type="pv" data-id="4">âˆ’</button>
                        <button class="btn small plus" data-type="pv" data-id="4">+</button>
                    </div>
                </div>
                <div class="status-box pv" data-type="pv" data-id="3">Perna 2<br><span>-</span>
                    <div class="controls">
                        <button class="btn small minus" data-type="pv" data-id="3">âˆ’</button>
                        <button class="btn small plus" data-type="pv" data-id="3">+</button>
                    </div>
                </div>
                <div class="status-box pv" data-type="pv" data-id="2">BraÃ§o 1<br><span>-</span>
                    <div class="controls">
                        <button class="btn small minus" data-type="pv" data-id="2">âˆ’</button>
                        <button class="btn small plus" data-type="pv" data-id="2">+</button>
                    </div>
                </div>
                <div class="status-box pv" data-type="pv" data-id="1">BraÃ§o 2<br><span>-</span>
                    <div class="controls">
                        <button class="btn small minus" data-type="pv" data-id="1">âˆ’</button>
                        <button class="btn small plus" data-type="pv" data-id="1">+</button>
                    </div>
                </div>
            </div>

            <!-- Armadura por parte -->
            <div class="status-area">
                <div class="status-box ar" data-type="ar" data-id="6">CabeÃ§a<br><span>-</span>
                    <div class="controls">
                        <button class="btn small minus" data-type="ar" data-id="6">âˆ’</button>
                        <button class="btn small plus" data-type="ar" data-id="6">+</button>
                    </div>
                </div>
                <div class="status-box ar" data-type="ar" data-id="5">Tronco<br><span>-</span>
                    <div class="controls">
                        <button class="btn small minus" data-type="ar" data-id="5">âˆ’</button>
                        <button class="btn small plus" data-type="ar" data-id="5">+</button>
                    </div>
                </div>
                <div class="status-box ar" data-type="ar" data-id="4">Perna 1<br><span>-</span>
                    <div class="controls">
                        <button class="btn small minus" data-type="ar" data-id="4">âˆ’</button>
                        <button class="btn small plus" data-type="ar" data-id="4">+</button>
                    </div>
                </div>
                <div class="status-box ar" data-type="ar" data-id="3">Perna 2<br><span>-</span>
                    <div class="controls">
                        <button class="btn small minus" data-type="ar" data-id="3">âˆ’</button>
                        <button class="btn small plus" data-type="ar" data-id="3">+</button>
                    </div>
                </div>
                <div class="status-box ar" data-type="ar" data-id="2">BraÃ§o 1<br><span>-</span>
                    <div class="controls">
                        <button class="btn small minus" data-type="ar" data-id="2">âˆ’</button>
                        <button class="btn small plus" data-type="ar" data-id="2">+</button>
                    </div>
                </div>
                <div class="status-box ar" data-type="ar" data-id="1">BraÃ§o 2<br><span>-</span>
                    <div class="controls">
                        <button class="btn small minus" data-type="ar" data-id="1">âˆ’</button>
                        <button class="btn small plus" data-type="ar" data-id="1">+</button>
                    </div>
                </div>
            </div>

            <!-- Mana e PA -->
            <div class="status-area">
                <div class="status-box mana" data-type="mana">Mana<br><span>-</span>
                    <div class="controls">
                        <button class="btn small minus" data-type="mana">âˆ’</button>
                        <button class="btn small plus" data-type="mana">+</button>
                    </div>
                </div>
                <div class="status-box pa" data-type="pa">PA<br><span>-</span>
                    <div class="controls">
                        <button class="btn small minus" data-type="pa">âˆ’</button>
                        <button class="btn small plus" data-type="pa">+</button>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <!-- Painel de Regras -->
    <div id="painelRegras" class="painel-regras">
        <button id="fecharRegras" class="btn small fechar">âœ– Fechar</button>
        <div class="conteudo-regras">
            <h2>ðŸ“– Regras â€” RPG PI FLASH</h2>
            <div id="textoRegras">Carregando regras...</div>
        </div>
    </div>
</body>

</html>